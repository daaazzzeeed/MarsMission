import base64
import json
import hashlib

code2 = """W3sibCI6MTMsInMiOiIxMCBvZiB0aGVtIGFyIn0seyJsIjozNiwicyI6Im4gdGhlIG1vc3Qgb3B0aW1hbCB3YXkgdG8gbW92ZSBhbGwgdCJ9LHsibCI6MjYsInMiOiJ0LlxuXG5UaGUgcmF0aW9zIG9mIHVubG9hZGluIn0seyJsIjo4LCJzIjoic2hpcCdzIGMifSx7ImwiOjMwLCJzIjoiZSBnaXZlbiBiZWxvdyBpbiBhIGZvcm1hdDogXG5MbyJ9LHsibCI6MjgsInMiOiJ1bGFyIGF1dG9sb2FkZXIgbnVtYmVyIGFuZCBwIn0seyJsIjoxNSwicyI6IncuIFlvdSBtdXN0IHNwbCJ9LHsibCI6MzQsInMiOiIgcHJvZ3JhbSB0byBzcGxpdCB0aGUgY29udGFpbmVycyBiIn0seyJsIjoyNSwicyI6IndpdGhvdXQgZm9vZCBhbmQgZXF1aXBtZW4ifSx7ImwiOjEyLCJzIjoicm9rZW4uIE9ubHkgIn0seyJsIjoxNCwicyI6ImUgb3BlcmF0aW5nIG5vIn0seyJsIjo1LCJzIjoidCBoYXAifSx7ImwiOjEsInMiOiJBIn0seyJsIjoyOSwicyI6ImFydGljdWxhciBjb250YWluZXIgbnVtYmVyIGFyIn0seyJsIjoyNCwicyI6ImNvbG9ueSByaXNrcyBiZWluZyBsZWZ0ICJ9LHsibCI6MTAsInMiOiIgb25lIGF1dG9sIn0seyJsIjoyMCwicyI6IiBmYXN0IGFzIHBvc3NpYmxlLiBUIn0seyJsIjoyMSwicyI6ImhlIGNvbG9uaXN0cyB3b24ndCBiZSJ9LHsibCI6MzMsInMiOiJvYWRlciBpbiBtaW51dGVzLlxuXG5QbGVhc2Ugd3JpdGUgYSJ9LHsibCI6MzUsInMiOiJldHdlZW4gdGhlIGZ1bmN0aW9uYWwgYXV0b2xvYWRlcnMgaSJ9LHsibCI6NCwicyI6ImlkZW4ifSx7ImwiOjcsInMiOiJpbiB0aGUgIn0seyJsIjozMiwicyI6InRpbWUgb2YgdGhpcyBjb250YWluZXIgb24gdGhpcyBsIn0seyJsIjoxNiwicyI6Iml0IHRoZSBjb250YWluZXIifSx7ImwiOjksInMiOiJhcmdvIGJheToifSx7ImwiOjE3LCJzIjoicyBiZXR3ZWVuIHRoZSByZW0ifSx7ImwiOjIyLCJzIjoiIGFibGUgdG8gdW5sb2FkIGFsbCBjbyJ9LHsibCI6NiwicyI6InBlbmVkICJ9LHsibCI6MjcsInMiOiJnIHNwZWVkIGFjY29yZGluZyB0byBwYXJ0aWMifSx7ImwiOjExLCJzIjoib2FkZXIgaGFzIGIifSx7ImwiOjE4LCJzIjoiYWluaW5nIGF1dG9sb2FkZXJzIn0seyJsIjoyMywicyI6Im50YWluZXJzIG1hbnVhbGx5LiBUaGUgIn0seyJsIjozLCJzIjoiYWNjIn0seyJsIjoxOSwicyI6IiB0byB1bmxvYWQgY2FyZ28gYXMifSx7ImwiOjM3LCJzIjoiaGUgY2FyZ28gaW4gMjAwIG1pbnV0ZXMuLi4uLi4uLi4uLi4uLiJ9LHsibCI6MzEsInMiOiJhZGVyIElEOyBDb250YWluZXIgSUQ7IExvYWRpbmcgIn0seyJsIjoyLCJzIjoibiAifV0="""
code1 = """W3siaWQiOjIxLCJzIjoiaGUgY29sb25pcyJ9LHsiaWQiOjUwLCJzIjoiIG9mIHRoaXMgYyJ9LHsiaWQiOjI1LCJzIjoiIGNvbnRhaW5lciJ9LHsiaWQiOjEwLCJzIjoibmcgbm93LiBZbyJ9LHsiaWQiOjgsInMiOiIgb2YgdGhlbSBhIn0seyJpZCI6NjQsInMiOiIgb3B0aW1hbCB3In0seyJpZCI6MjQsInMiOiJ1bmxvYWQgYWxsIn0seyJpZCI6NjUsInMiOiJheSB0byBtb3ZlIn0seyJpZCI6MzcsInMiOiJvIHBhcnRpY3VsIn0seyJpZCI6MTgsInMiOiJkIGNhcmdvIGFzIn0seyJpZCI6NDUsInMiOiJuIGEgZm9ybWF0In0seyJpZCI6MywicyI6ImlwJ3MgY2FyZ28ifSx7ImlkIjo0NywicyI6IklEOyBDb250YWkifSx7ImlkIjo0MSwicyI6ImN1bGFyIGNvbnQifSx7ImlkIjo2NiwicyI6IiBhbGwgdGhlIGMifSx7ImlkIjo0OCwicyI6Im5lciBJRDsgTG8ifSx7ImlkIjoyMiwicyI6InRzIHdvbid0IGIifSx7ImlkIjoxMSwicyI6InUgbXVzdCBzcGwifSx7ImlkIjo0MCwicyI6IiBhbmQgcGFydGkifSx7ImlkIjoxMiwicyI6Iml0IHRoZSBjb24ifSx7ImlkIjoxNCwicyI6InR3ZWVuIHRoZSAifSx7ImlkIjo2NywicyI6ImFyZ28gaW4gMjAifSx7ImlkIjozOCwicyI6ImFyIGF1dG9sb2EifSx7ImlkIjozNiwicyI6ImNjb3JkaW5nIHQifSx7ImlkIjoyOSwicyI6ImVpbmcgbGVmdCAifSx7ImlkIjozMywicyI6ImhlIHJhdGlvcyAifSx7ImlkIjo2MCwicyI6Im4gdGhlIGZ1bmMifSx7ImlkIjoxNSwicyI6InJlbWFpbmluZyAifSx7ImlkIjo0NiwicyI6IjogXG5Mb2FkZXIgIn0seyJpZCI6NjgsInMiOiIwIG1pbnV0ZXMuIn0seyJpZCI6NTMsInMiOiJkZXIgaW4gbWluIn0seyJpZCI6NDQsInMiOiJlbiBiZWxvdyBpIn0seyJpZCI6NDksInMiOiJhZGluZyB0aW1lIn0seyJpZCI6MzEsInMiOiJvZCBhbmQgZXF1In0seyJpZCI6MzAsInMiOiJ3aXRob3V0IGZvIn0seyJpZCI6MSwicyI6InQgaGFwcGVuZWQifSx7ImlkIjo1MiwicyI6Im4gdGhpcyBsb2EifSx7ImlkIjo2MSwicyI6InRpb25hbCBhdXQifSx7ImlkIjo1NywicyI6InRvIHNwbGl0IHQifSx7ImlkIjowLCJzIjoiQW4gYWNjaWRlbiJ9LHsiaWQiOjE5LCJzIjoiIGZhc3QgYXMgcCJ9LHsiaWQiOjM5LCJzIjoiZGVyIG51bWJlciJ9LHsiaWQiOjIzLCJzIjoiZSBhYmxlIHRvICJ9LHsiaWQiOjIwLCJzIjoib3NzaWJsZS4gVCJ9LHsiaWQiOjYsInMiOiIgaGFzIGJyb2tlIn0seyJpZCI6OSwicyI6InJlIG9wZXJhdGkifSx7ImlkIjoxNiwicyI6ImF1dG9sb2FkZXIifSx7ImlkIjozMiwicyI6ImlwbWVudC5cblxuVCJ9LHsiaWQiOjUsInMiOiJhdXRvbG9hZGVyIn0seyJpZCI6NTQsInMiOiJ1dGVzLlxuXG5QbGUifSx7ImlkIjo1OCwicyI6ImhlIGNvbnRhaW4ifSx7ImlkIjo0MywicyI6ImVyIGFyZSBnaXYifSx7ImlkIjo1MSwicyI6Im9udGFpbmVyIG8ifSx7ImlkIjoyNywicyI6Ii4gVGhlIGNvbG8ifSx7ImlkIjoxNywicyI6InMgdG8gdW5sb2EifSx7ImlkIjoyOCwicyI6Im55IHJpc2tzIGIifSx7ImlkIjozNSwicyI6Im5nIHNwZWVkIGEifSx7ImlkIjo2MiwicyI6Im9sb2FkZXJzIGkifSx7ImlkIjo3LCJzIjoibi4gT25seSAxMCJ9LHsiaWQiOjQyLCJzIjoiYWluZXIgbnVtYiJ9LHsiaWQiOjEzLCJzIjoidGFpbmVycyBiZSJ9LHsiaWQiOjYzLCJzIjoibiB0aGUgbW9zdCJ9LHsiaWQiOjI2LCJzIjoicyBtYW51YWxseSJ9LHsiaWQiOjIsInMiOiIgaW4gdGhlIHNoIn0seyJpZCI6NTksInMiOiJlcnMgYmV0d2VlIn0seyJpZCI6NCwicyI6IiBiYXk6IG9uZSAifSx7ImlkIjo1NSwicyI6ImFzZSB3cml0ZSAifSx7ImlkIjozNCwicyI6Im9mIHVubG9hZGkifSx7ImlkIjo1NiwicyI6ImEgcHJvZ3JhbSAifV0="""
code4 = """W3sibCI6OCwicyI6ImVycyBpcyBtIn0seyJsIjozMSwicyI6ImFueXdheS5cblxuVGhlIGZpbGUgYXR0YWNoZWQgdG8gdCJ9LHsibCI6MTQsInMiOiJ1c3QgbG9hZCB0aGUgbSJ9LHsibCI6MjgsInMiOiJuZCBkb2VzIG5vdCBuZWVkIHRvIGJlIGluY29tIn0seyJsIjozMiwicyI6ImhpcyB0YXNrIGNvbnRhaW5zIGEgbGlzdCBvZiBlcXVpIn0seyJsIjozMCwicyI6ImhleSBjYW5ub3QgYmUgbG9hZGVkIHRvZ2V0aGVyICJ9LHsibCI6MTcsInMiOiJoZSBvcGVyYXRpbmcgbGFuZCJ9LHsibCI6MjcsInMiOiJ0IHdpdGggdGhlIHNlY29uZCwgdGhlIHNlY28ifSx7ImwiOjEyLCJzIjoibHkuIFRoZSBleHBlIn0seyJsIjozNCwicyI6IjtXZWlnaHQ7IENvbW1hLVNlcGFyYXRlZCBJRHMgb2YgSW4ifSx7ImwiOjUsInMiOiIgdGhyZSJ9LHsibCI6MjMsInMiOiJvIHNlcGFyYXRlIGxhbmRlcnMuIFN1ZiJ9LHsibCI6MTYsInMiOiJ1aXBtZW50IGFib2FyZCB0In0seyJsIjoyMSwicyI6Im8gYmUgc3RvcmVkIHRvZ2V0aGVyICJ9LHsibCI6NCwicyI6IiB0aGUifSx7ImwiOjI1LCJzIjoiY29tcGF0aWJpbGl0eSBpcyBpbmNvbXBhdCJ9LHsibCI6MTAsInMiOiJuaW5nLiBUd28gIn0seyJsIjozNSwicyI6ImNvbXBhdGlibGUgT2JqZWN0cztWYWx1ZSBSYXRpbmc7XG5cblUifSx7ImwiOjM2LCJzIjoic2luZyB0aGlzIGRhdGEgYW5kIGtub3dpbmcgdGhlIGxhbmRlIn0seyJsIjoxLCJzIjoiTyJ9LHsibCI6MjksInMiOiJwYXRpYmxlIHdpdGggdGhlIGZpcnN0LCBidXQgdCJ9LHsibCI6NDEsInMiOiJ0aGUgY29tcGF0aWJpbGl0eSByZXN0cmljdGlvbnMuLi4uLi4uLi4uLiJ9LHsibCI6MjYsInMiOiJpYmlsaXR5IG9mIHRoZSBmaXJzdCBvYmplYyJ9LHsibCI6OSwicyI6ImFsZnVuY3RpbyJ9LHsibCI6MTksInMiOiJlIGl0ZW1zIG9mIGVxdWlwbWVuIn0seyJsIjo3LCJzIjoiJ3MgbGFuZCJ9LHsibCI6MzgsInMiOiJjaCksIHBsZWFzZSB3cml0ZSBhIHByb2dyYW0gdG8gc2VsZWN0ICJ9LHsibCI6MzMsInMiOiJwbWVudCBpbiB0aGUgZm9sbG93aW5nIGZvcm1hdDogSUQifSx7ImwiOjQwLCJzIjoibyB0aGUgbGFuZGVycyB3aXRoaW4gdGhlIHRpbWUgbGltaXQgYW5kICJ9LHsibCI6MiwicyI6Im5lIn0seyJsIjoyNCwicyI6ImZpY2llbnQgY29uZGl0aW9uIGZvciBpbiJ9LHsibCI6NiwicyI6ImUgc2hpcCJ9LHsibCI6MjAsInMiOiJ0IGFyZSBpbmNvbXBhdGlibGUgdCJ9LHsibCI6MzksInMiOiJ0aGUgbW9zdCB2YWx1YWJsZSBlcXVpcG1lbnQgdG8gbG9hZCBpbnQifSx7ImwiOjE4LCJzIjoiZXJzLlxuXG5Ib3dldmVyLCBzb20ifSx7ImwiOjExLCJzIjoib3BlcmF0ZSBmdWwifSx7ImwiOjEzLCJzIjoiZGl0aW9uIHRlYW0gbSJ9LHsibCI6MjIsInMiOiJhbmQgbXVzdCBiZSBsb2FkZWQgaW50In0seyJsIjozLCJzIjoiIG9mIn0seyJsIjoxNSwicyI6Im9zdCB2YWx1YWJsZSBlcSJ9LHsibCI6MzcsInMiOiJycyBtYXhpbXVtIHdlaWdodCBjYXBhY2l0eSAoMjAwIGtnIGVhIn1d
=="""
code = """W3sibCI6OCwicyI6ImVycyBpcyBtIn0seyJsIjozMSwicyI6ImFueXdheS5cblxuVGhlIGZpbGUgYXR0YWNoZWQgdG8gdCJ9LHsibCI6MTQsInMiOiJ1c3QgbG9hZCB0aGUgbSJ9LHsibCI6MjgsInMiOiJuZCBkb2VzIG5vdCBuZWVkIHRvIGJlIGluY29tIn0seyJsIjozMiwicyI6ImhpcyB0YXNrIGNvbnRhaW5zIGEgbGlzdCBvZiBlcXVpIn0seyJsIjozMCwicyI6ImhleSBjYW5ub3QgYmUgbG9hZGVkIHRvZ2V0aGVyICJ9LHsibCI6MTcsInMiOiJoZSBvcGVyYXRpbmcgbGFuZCJ9LHsibCI6MjcsInMiOiJ0IHdpdGggdGhlIHNlY29uZCwgdGhlIHNlY28ifSx7ImwiOjEyLCJzIjoibHkuIFRoZSBleHBlIn0seyJsIjozNCwicyI6IjtXZWlnaHQ7IENvbW1hLVNlcGFyYXRlZCBJRHMgb2YgSW4ifSx7ImwiOjUsInMiOiIgdGhyZSJ9LHsibCI6MjMsInMiOiJvIHNlcGFyYXRlIGxhbmRlcnMuIFN1ZiJ9LHsibCI6MTYsInMiOiJ1aXBtZW50IGFib2FyZCB0In0seyJsIjoyMSwicyI6Im8gYmUgc3RvcmVkIHRvZ2V0aGVyICJ9LHsibCI6NCwicyI6IiB0aGUifSx7ImwiOjI1LCJzIjoiY29tcGF0aWJpbGl0eSBpcyBpbmNvbXBhdCJ9LHsibCI6MTAsInMiOiJuaW5nLiBUd28gIn0seyJsIjozNSwicyI6ImNvbXBhdGlibGUgT2JqZWN0cztWYWx1ZSBSYXRpbmc7XG5cblUifSx7ImwiOjM2LCJzIjoic2luZyB0aGlzIGRhdGEgYW5kIGtub3dpbmcgdGhlIGxhbmRlIn0seyJsIjoxLCJzIjoiTyJ9LHsibCI6MjksInMiOiJwYXRpYmxlIHdpdGggdGhlIGZpcnN0LCBidXQgdCJ9LHsibCI6NDEsInMiOiJ0aGUgY29tcGF0aWJpbGl0eSByZXN0cmljdGlvbnMuLi4uLi4uLi4uLiJ9LHsibCI6MjYsInMiOiJpYmlsaXR5IG9mIHRoZSBmaXJzdCBvYmplYyJ9LHsibCI6OSwicyI6ImFsZnVuY3RpbyJ9LHsibCI6MTksInMiOiJlIGl0ZW1zIG9mIGVxdWlwbWVuIn0seyJsIjo3LCJzIjoiJ3MgbGFuZCJ9LHsibCI6MzgsInMiOiJjaCksIHBsZWFzZSB3cml0ZSBhIHByb2dyYW0gdG8gc2VsZWN0ICJ9LHsibCI6MzMsInMiOiJwbWVudCBpbiB0aGUgZm9sbG93aW5nIGZvcm1hdDogSUQifSx7ImwiOjQwLCJzIjoibyB0aGUgbGFuZGVycyB3aXRoaW4gdGhlIHRpbWUgbGltaXQgYW5kICJ9LHsibCI6MiwicyI6Im5lIn0seyJsIjoyNCwicyI6ImZpY2llbnQgY29uZGl0aW9uIGZvciBpbiJ9LHsibCI6NiwicyI6ImUgc2hpcCJ9LHsibCI6MjAsInMiOiJ0IGFyZSBpbmNvbXBhdGlibGUgdCJ9LHsibCI6MzksInMiOiJ0aGUgbW9zdCB2YWx1YWJsZSBlcXVpcG1lbnQgdG8gbG9hZCBpbnQifSx7ImwiOjE4LCJzIjoiZXJzLlxuXG5Ib3dldmVyLCBzb20ifSx7ImwiOjExLCJzIjoib3BlcmF0ZSBmdWwifSx7ImwiOjEzLCJzIjoiZGl0aW9uIHRlYW0gbSJ9LHsibCI6MjIsInMiOiJhbmQgbXVzdCBiZSBsb2FkZWQgaW50In0seyJsIjozLCJzIjoiIG9mIn0seyJsIjoxNSwicyI6Im9zdCB2YWx1YWJsZSBlcSJ9LHsibCI6MzcsInMiOiJycyBtYXhpbXVtIHdlaWdodCBjYXBhY2l0eSAoMjAwIGtnIGVhIn1d
"""

def base64ToString(b):
    return base64.b64decode(b).decode('utf-8')


def sortbylen(sortlist):
    return sortlist[ids]


decodedJSON = base64ToString(code)
sortString = json.loads(decodedJSON)
sortList = list()

for item in sortString:
    sortList.append(item)

elem = sortList[0]
ids = list(elem.keys())[0]
messages = list(elem.keys())[1]

sortList.sort(key=sortbylen)
finallyDecodedString = ''


for item in sortList:
    finallyDecodedString = finallyDecodedString + '' + str(item[messages])
print(finallyDecodedString + '\n')

print('Md5 hash: ' + hashlib.md5(finallyDecodedString.encode('utf-8')).hexdigest())

